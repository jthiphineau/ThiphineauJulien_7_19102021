{"remainingRequest":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/t.j/OPCR/Projet7/Frontend/src/views/Stream.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/t.j/OPCR/Projet7/Frontend/src/views/Stream.vue","mtime":1610031143000},{"path":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/babel-loader/lib/index.js","mtime":1635943529871},{"path":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1635943530684}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmltcG9ydCAiLi4vbWFpbi5jc3MiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlN0cmVhbSIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlzQWRtaW46IGZhbHNlLAogICAgICAgICAgICBtZXNzYWdlczogW10sCiAgICAgICAgICAgIGlkOiAiIiwgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBuYW1lOiAiIiwgICAgICAgICAgICAgICAKICAgICAgICAgICAgY3JlYXRpb246ICIiICAgICAgICAgICAKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZDogZnVuY3Rpb24oKSB7ICAgICAgICAKICAgICAgICBsZXQgaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvbWVzc2FnZXMiLCAgeyBoZWFkZXJzOiB7IkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKX0gfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzID0gcmVwOyAKICAgICAgICAgICAgICAgIHJlcC5zcGxpY2UoMTAsKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJNZXNzYWdlSWQiLCByZXBbMF0uaWQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5tZXNzYWdlcykKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhdWN1biBtZXNzYWdlIikKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcik9PnsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgfSkgICAKICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzLyIgKyBpZCwgeyBoZWFkZXJzOiB7IkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKX0gfSkKICAgICAgICAudGhlbihyZXMgPT4geyAgCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgc2VsZi5pZCAgICAgICAgICAgICAgICAgPSByZXMuZGF0YS5pZDsKICAgICAgICAgICAgc2VsZi5uYW1lICAgICAgICAgICAgICAgPSByZXMuZGF0YS51c2VyTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlcy5kYXRhLnVzZXJOYW1lLnNsaWNlKDEpOwogICAgICAgICAgICBzZWxmLmNyZWF0aW9uICAgICAgICAgICA9IHJlcy5kYXRhLmNyZWF0ZWRBdC5zbGljZSgwLDEwKS5zcGxpdCgiLSIpLnJldmVyc2UoKS5qb2luKCIuIik7CiAgICAgICAgICAgIHNlbGYuaXNBZG1pbiAgICAgICAgICAgID0gcmVzLmRhdGEuaXNBZG1pbjsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpPT4geyBjb25zb2xlLmxvZyhlcnJvcikgCiAgICAgICAgfSk7ICAgIAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBjb21tZW50UGFnZShtKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG0pOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnTWVzc2FnZUlkJywgbSk7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKHsgcGF0aCA6ICIvQ29tbWVudCIgfSk7CiAgICAgICAgfSwKICAgICAgICBkZWxldGVNZXNzYWdlKGEsIGIsIGMpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAgICAgICB0eXBlb2YgYSwKICAgICAgICAgICAgICAgIHR5cGVvZiBiLAogICAgICAgICAgICAgICAgdHlwZW9mIGMKICAgICAgICAgICAgKQogICAgICAgICAgICBsZXQgY29uZmlybU1lc3NhZ2VEZWxldGlvbiA9IGNvbmZpcm0oInZvdWxlei12b3VzIHZyYWltZW50IHN1cHByaW1lciBjZXR0ZSBpbWFnZSA/LCB0b3VzIGxlcyBjb21tZW50YWlyZXMgYXNzb2Npw6lzIHNlcm9udCDDqWdhbGVtZW50IHN1cHByaW3DqXMuIik7CiAgICAgICAgICAgIGlmIChjb25maXJtTWVzc2FnZURlbGV0aW9uID09IHRydWUpIHsKICAgICAgICAgICAgICAgIGF4aW9zLmRlbGV0ZSgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9tZXNzYWdlcy8iLCB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAKICAgICAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSAKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6ICBhLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlVWlkOiBiLAogICAgICAgICAgICAgICAgICAgICAgICB1aWQ6ICAgICAgICBjCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbigocmVzKT0+IGNvbnNvbGUubG9nKHJlcykpCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7IAogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJsaWduZSAxMzMgIiArIGVycm9yKX0pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbG9jYWxDbGVhcigpIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKHsgcGF0aCA6ICIvIiB9KTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["/Users/t.j/OPCR/Projet7/Frontend/src/views/Stream.vue"],"names":[],"mappings":";;AAgEA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEpB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACX,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACZ,CAAC,CAAC,EAAE,CAAC,CAAC;YACN,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACf;IACJ,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAChB,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC1H,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACX,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;gBACL,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,EAAE;gBACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/B;QACJ,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC;QACD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC5H,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC;IACN,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACtC,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;YACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBACR,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBACR,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACX;YACA,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChJ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;gBAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;oBAChD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;wBACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7D,CAAC;oBACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;wBACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;wBACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;wBACb,CAAC,CAAC,CAAC,SAAS;oBAChB;oBACA,CAAC;gBACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oBACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1C,EAAE,CAAC,CAAC,CAAC,EAAE;gBACH,CAAC,CAAC,CAAC,CAAC,CAAC;YACT;QACJ,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC/B;IACJ;AACJ","file":"/Users/t.j/OPCR/Projet7/Frontend/src/views/Stream.vue","sourceRoot":"","sourcesContent":["<template>\n    <main class=\"container\">    \n        <div class=\"col-12\">\n            <div class=\"col-12 \">\n                <h1 v-if= 'this.messages.length !== 0' class=\"col-12 my-2 btn  btn-block btn-info font-weight-bold\" style=\"background-color: #138400; cursor:default\">Dernières Publications</h1>   \n                <h1  v-else class='col-12 my-2 btn  btn-block btn-danger font-weight-bold' style=\"cursor:default\"> Aucune publication pour l'instant, soyez le premier à en créer une ! </h1>\n            </div>\n            <section id=\"filPrincipal\" class=\"row\">\n                 <!-- bloc utilisateur -->\n                <article class=\"col-12 col-md-4\">\n                    <div class=\"card bg-light my-3 class=center-block\" style=\"float:none;\">\n                        <div class=\"card-header\">\n                            <div class=\"row justify-content-around\">\n                                <p class=\"m-1\"> Bonjour {{ name }} ! </p>\n                                <button @click=\"localClear\"> <img src=\"../assets/signout.svg\" alt=\"sign-out\" style=\"width:35px\"/> </button>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"text-center\">\n                                <p id=\"membre\">Membre depuis le {{ creation }}</p>\n                            </div>\n                            <div id=\"compteButton\" class=\"text-center\">\n                                <router-link v-if=\"isAdmin\" to='/Admin'><button type=\"button\" class=\" btn btn-danger mx-auto rounded p-2 buttonsPanel\">ADMIN. <button class=\" rounded p-1 m-1 \"><img src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"> ACTIVÉE</button></button></router-link> \n                                <router-link v-else to='/Compte'><button type=\"button\" class=\" btn btn-secondary mx-auto rounded p-2 buttonsPanel\">COMPTE</button></router-link> \n                            </div>\n                        </div>\n                        <div id=\"publicationButton\" class=\" card-body text-center\">\n                            <router-link to='/Create' ><button type=\"button\" class=\"btn btn-dark mx-auto p-2 rounded buttonsPanel\">PUBLIER</button></router-link>\n                        </div>\n                    </div>                  \n                </article>\n                 <!-- bloc avec tous le(s) message(s) -->\n                <sub class=\"col-12 col-md-8\">\n                    <div v-for=\"message in messages\" :key=\"message.id\" class=\"card bg-light my-3\">\n                        <div class=\"card-header bg-light d-flex align-items-center justify-content-between m-0 p-1\">\n                            <span class=\" text-dark text-bold  p-1\" >\n                                Posté par {{ message.userName.charAt(0).toUpperCase() + message.userName.slice(1) }}\n                                le {{ message.createdAt.slice(0,10).split('-').reverse().join('.') + ' à ' + message.createdAt.slice(11,16) }}\n                            </span>\n                            <div class=\"badge bg-dark text-wrap text-white p-2\" style=\"width: 6rem;\">\n                                ref # {{ message.id }}                    \n                            </div>                                                                                       \n                        </div>\n                        <div class=\"btn\" @click=\"commentPage(message.id)\">\n                            <img :src=\"message.messageUrl\" v-if=\"message.messageUrl !== '' \" class=\"border messImage\" alt=\"image postée par un utilisateur\" />\n                        </div>\n                        <div class=\"p-2\"> \n                            <p v-if=\"isAdmin || message.UserId == id\" class=\"ml-2\">   {{ message.message }} </p> \n                        </div>\n                        <div class=\"row card-footer justify-content-around\">\n                            <button @click=\"commentPage(message.id)\" class=\"border-0\"> <img src=\"../assets/comment_black.svg\" alt=\"comment_black\" style=\"width:25px\"> </button>\n                            <div v-if=\"isAdmin || message.UserId == id\">\n                                <button @click=\"deleteMessage(message.id, message.UserId, id)\" class=\"border-0\"> <img  src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"> </button>\n                            </div>\n                        </div>                             \n                    </div>                        \n                </sub>\n            </section>\n        </div>\n    </main>\n</template>\n\n<script>\n\nimport axios from \"axios\";\nimport router from \"../router\";\nimport \"../main.css\";\n\nexport default {\n    name: \"Stream\",\n    data() {\n        return {\n            isAdmin: false,\n            messages: [],\n            id: \"\",                 \n            name: \"\",               \n            creation: \"\"           \n        }\n    },\n    created: function() {        \n        let id = localStorage.getItem('userId')\n        axios.get(\"http://localhost:3000/api/messages\",  { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then((res) => {\n            if (res) {\n                const rep = res.data.list;\n                this.messages = rep; \n                rep.splice(10,);\n                localStorage.setItem(\"MessageId\", rep[0].id);\n                console.log(this.messages)\n            } else {\n                console.log(\"aucun message\")\n            }\n        })\n        .catch((error)=>{\n            console.log(error)\n        })   \n        let self = this;\n        axios.get(\"http://localhost:3000/api/users/\" + id, { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then(res => {  \n            console.log(res)\n            self.id                 = res.data.id;\n            self.name               = res.data.userName.charAt(0).toUpperCase() + res.data.userName.slice(1);\n            self.creation           = res.data.createdAt.slice(0,10).split(\"-\").reverse().join(\".\");\n            self.isAdmin            = res.data.isAdmin;\n        })\n        .catch((error)=> { console.log(error) \n        });    \n    },\n    methods: {\n        commentPage(m) {\n            console.log(m);\n            localStorage.setItem('MessageId', m);\n            router.push({ path : \"/Comment\" });\n        },\n        deleteMessage(a, b, c) {\n            console.log(\n                typeof a,\n                typeof b,\n                typeof c\n            )\n            let confirmMessageDeletion = confirm(\"voulez-vous vraiment supprimer cette image ?, tous les commentaires associés seront également supprimés.\");\n            if (confirmMessageDeletion == true) {\n                axios.delete(\"http://localhost:3000/api/messages/\", {\n                    headers: { \n                        \"Authorization\": \"Bearer \" + localStorage.getItem(\"token\") \n                    },\n                    params: {\n                        messageId:  a,\n                        messageUid: b,\n                        uid:        c\n                    }\n                    })\n                .then((res)=> console.log(res))\n                .catch((error) => { \n                    location.reload();\n                    console.log(\"ligne 133 \" + error)})\n            } else {\n                return\n            }\n        },\n        localClear() {\n            localStorage.clear();\n            router.push({ path : \"/\" });\n        }\n    }\n}\n</script>"]}]}