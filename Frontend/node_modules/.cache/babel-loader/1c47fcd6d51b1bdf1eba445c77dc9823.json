{"remainingRequest":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/babel-loader/lib/index.js!/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/src/views/Inscription.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/src/views/Inscription.vue","mtime":1610031143000},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/babel-loader/lib/index.js","mtime":1635943529871},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1635943530684}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiOwppbXBvcnQgIi4uL21haW4uY3NzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbnNjcmlwdGlvbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlucHV0VXNlck5hbWU6ICIiLAogICAgICBpbnB1dEVtYWlsOiAiIiwKICAgICAgaW5wdXRQYXNzd29yZDogIiIsCiAgICAgIGludmFsaWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VuZEZvcm06IGZ1bmN0aW9uIHNlbmRGb3JtKCkgewogICAgICBpZiAoIXRoaXMuaW5wdXRVc2VyTmFtZSB8fCAhdGhpcy5pbnB1dEVtYWlsIHx8ICF0aGlzLmlucHV0UGFzc3dvcmQpIHsKICAgICAgICByZXR1cm4gdGhpcy5pbnZhbGlkID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIG5hbWVSZWdleCA9IC8oLipbYS16XSl7MywzMH0vOwogICAgICB2YXIgbWFpbFJlZ2V4ID0gL15cdysoWy0rLiddXHcrKSpAXHcrKFstLl1cdyspKlwuXHcrKFstLl1cdyspKiQvOwogICAgICB2YXIgcHdkUmVnZXggPSAvXig/PS4qW0EtWmEtel0pKD89LipcZClbQS1aYS16XGRdezgsfSQvOwoKICAgICAgaWYgKG5hbWVSZWdleC50ZXN0KHRoaXMuaW5wdXRVc2VyTmFtZSkgJiYgbWFpbFJlZ2V4LnRlc3QodGhpcy5pbnB1dEVtYWlsKSAmJiBwd2RSZWdleC50ZXN0KHRoaXMuaW5wdXRQYXNzd29yZCkpIHsKICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2F1dGgvc2lnbnVwIiwgewogICAgICAgICAgdXNlck5hbWU6IHRoaXMuaW5wdXRVc2VyTmFtZSwKICAgICAgICAgIGVtYWlsOiB0aGlzLmlucHV0RW1haWwsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5pbnB1dFBhc3N3b3JkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBhbGVydCgnaW5zY3JpcHRpb24gcsOpdXNzaWUsIHJlZGlyZWN0aW9uIHZlcnMgbGUgbW9kdWxlIGRlIGNvbm5leGlvbicpOwogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnLycKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgYWxlcnQoZXJyb3Iuc3RhdHVzKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygndmFsaWRhdGlvbiBmb3JtLCBtZXRob2Qgc2VuZEZvcm0sIHJlbnZvaWUgdW5lIGVycmV1cicpOwogICAgICAgIHRoaXMuaW52YWxpZCA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/src/views/Inscription.vue"],"names":[],"mappings":"AAmCA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAP,MAAmB,WAAnB;AACA,OAAO,aAAP;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,aADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,aAAa,EAAE,EADZ;AAEH,MAAA,UAAU,EAAE,EAFT;AAGH,MAAA,aAAa,EAAE,EAHZ;AAIH,MAAA,OAAO,EAAE;AAJN,KAAP;AAMH,GATU;AAUX,EAAA,OAAO,EAAE;AACL,IAAA,QADK,sBACM;AACP,UAAK,CAAC,KAAK,aAAN,IAAuB,CAAC,KAAK,UAA7B,IAA2C,CAAC,KAAK,aAAtD,EAAsE;AAClE,eAAO,KAAK,OAAL,GAAe,IAAtB;AACJ;;AACA,UAAM,SAAQ,GAAI,iBAAlB;AACA,UAAM,SAAQ,GAAI,gDAAlB;AACA,UAAM,QAAO,GAAK,wCAAlB;;AAEA,UAAK,SAAS,CAAC,IAAV,CAAe,KAAK,aAApB,KAAsC,SAAS,CAAC,IAAV,CAAe,KAAK,UAApB,CAAtC,IAAyE,QAAQ,CAAC,IAAT,CAAc,KAAK,aAAnB,CAA9E,EAAiH;AAE7G,QAAA,KAAK,CAAC,IAAN,CAAW,uCAAX,EAAoD;AAChD,UAAA,QAAO,EAAO,KAAK,aAD6B;AAEhD,UAAA,KAAI,EAAU,KAAK,UAF6B;AAGhD,UAAA,QAAO,EAAO,KAAK;AAH6B,SAApD,EAKC,IALD,CAKM,YAAM;AACR,UAAA,KAAK,CAAC,8DAAD,CAAL;AACA,UAAA,MAAM,CAAC,IAAP,CAAY;AAAE,YAAA,IAAG,EAAI;AAAT,WAAZ;AACH,SARD,EASC,KATD,CASO,UAAC,KAAD,EAAS;AACZ,UAAA,KAAK,CAAC,KAAK,CAAC,MAAP,CAAL;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AAAmB,SAXvB;AAYJ,OAdA,MAcO;AACH,QAAA,OAAO,CAAC,GAAR,CAAY,sDAAZ;AACA,aAAK,OAAL,GAAe,IAAf;AACJ;AACJ;AA3BK;AAVE,CAAf","sourcesContent":["<template>\n    <main class=\"container\">\n         <!-- un seul bloc contenant le module d'inscription -->\n        <section class=\"col-12 col-md-8 mt-5 mx-auto p-3 bg-light rounded\">\n            <form @submit.prevent=\"sendForm(event)\">\n                <p class=\"text-center m-2\"> <img src=\"../assets/signup.svg\" alt=\"signup svg\" style=\"width:10rem\"> </p>\n                <h1 class=\"text-center font-weight-bold\" style=\"font-size:4vw;\" >INSCRIPTION</h1>\n                <div class=\"form-group\">\n                    <label for=\"inputUserName\">Nom d'utilisateur:</label>\n                    <input v-on:keydown=\"invalid = false\" v-model=\"inputUserName\" type=\"text\" class=\"form-control\" id=\"inputUserName\" aria-describedby=\"userNameHelp\" placeholder=\"Entrez votre nom\">\n                    <small id=\"userNameHelp\" class=\"form-text text-muted\">De 3 à 30 caractères</small>\n                </div>      \n                <div class=\"form-group\">\n                    <label for=\"inputEmail\">Email:</label>\n                    <input v-on:keydown=\"invalid = false\" v-model=\"inputEmail\" type=\"email\" class=\"form-control\" id=\"inputEmail\" aria-describedby=\"emailHelp\" placeholder=\"votre email\">\n                    <small id=\"emailHelp\" class=\"form-text text-muted\">Entrez une adresse mail valide</small>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputPassword\">Choisissez un Mot de passe:</label>\n                    <input v-on:keydown=\"invalid = false\" v-model=\"inputPassword\" type=\"password\" class=\"form-control\" id=\"inputPassword\" aria-describedby=\"passwordHelp\" placeholder=\"mot de passe\">\n                    <small id=\"passwordHelp\" class=\"form-text text-muted\">de 8 a 15 caracteres dont au moins 1 lettre et 1 chiffre</small>\n                </div>\n                <button type=\"submit\" class=\"contrastBoutonVert text-white p-2 w-100 border-0 rounded shadow font-weight-bold\">S'INSCRIRE</button>                          \n            </form>\n        </section>  \n        <div v-show=\"invalid\" class=\"invalidBox m-2\" key=\"invalid\">\n                Veuillez remplir tous les champs du formulaire en suivant les instructions.\n                </div>  \n         <div class=' col-7 mx-auto mt-4'>\n            <router-link to=\"/#\"><button class='contrastBoutonNoir text-white p-2 w-100 border-0 rounded shadow font-weight-bold'>RETOUR A L'ECRAN DE CONNEXION</button></router-link>\n        </div>\n    </main>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport router from \"../router\";\nimport \"../main.css\"\n\nexport default {\n    name: \"Inscription\",\n    data() {\n        return {\n            inputUserName: \"\",\n            inputEmail: \"\",\n            inputPassword: \"\",\n            invalid: false\n        }\n    },\n    methods: {\n        sendForm() {\n            if ( !this.inputUserName || !this.inputEmail || !this.inputPassword ) {\n                return this.invalid = true;\n            }\n            const nameRegex = /(.*[a-z]){3,30}/;\n            const mailRegex = /^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/\n            const pwdRegex  = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/  \n\n            if ( nameRegex.test(this.inputUserName) && mailRegex.test(this.inputEmail) && pwdRegex.test(this.inputPassword)) {\n\n                axios.post(\"http://localhost:3000/api/auth/signup\", { \n                    userName    : this.inputUserName, \n                    email       : this.inputEmail,\n                    password    : this.inputPassword\n                })\n                .then(() => {\n                    alert('inscription réussie, redirection vers le module de connexion');\n                    router.push({ path : '/'});\n                })\n                .catch((error)=>{\n                    alert(error.status)\n                    console.log(error)});\n            } else {\n                console.log('validation form, method sendForm, renvoie une erreur')\n                this.invalid = true;\n            }\n        }\n    }\n}    \n</script>"],"sourceRoot":""}]}