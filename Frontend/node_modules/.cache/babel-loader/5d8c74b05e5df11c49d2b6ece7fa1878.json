{"remainingRequest":"/Users/t.j/OPCR/projet7/Frontend/node_modules/babel-loader/lib/index.js!/Users/t.j/OPCR/projet7/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/t.j/OPCR/projet7/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/t.j/OPCR/projet7/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/t.j/OPCR/projet7/Frontend/src/views/Compte.vue?vue&type=template&id=0aa0687a","dependencies":[{"path":"/Users/t.j/OPCR/projet7/Frontend/src/views/Compte.vue","mtime":1610031143000},{"path":"/Users/t.j/OPCR/projet7/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/OPCR/projet7/Frontend/node_modules/babel-loader/lib/index.js","mtime":1635943529871},{"path":"/Users/t.j/OPCR/projet7/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1635943536901},{"path":"/Users/t.j/OPCR/projet7/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/OPCR/projet7/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1635943530684}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwppbXBvcnQgX2ltcG9ydHNfMCBmcm9tICcuLi9hc3NldHMvc2lnbm91dC5zdmcnOwppbXBvcnQgX2ltcG9ydHNfMSBmcm9tICcuLi9hc3NldHMvdHJhc2guc3ZnJzsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjb250YWluZXIiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAicm93IGp1c3RpZnktY29udGVudC1jZW50ZXIiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY29sLTEwIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNvbC0xMiIKfTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaDEiLCB7CiAgY2xhc3M6ICJteS0yIGJ0biBidG4tYmxvY2sgYnRuLWluZm8gZm9udC13ZWlnaHQtYm9sZCIsCiAgc3R5bGU6IHsKICAgICJjdXJzb3IiOiAiZGVmYXVsdCIKICB9Cn0sICJWb3VzIGNvbnN1bHRleiB2b3RlIGNvbXB0ZSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF82ID0gewogIGlkOiAiZmlsUHJpbmNpcGFsIiwKICBjbGFzczogInJvdyIKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJjb2wtMTIiCn07CnZhciBfaG9pc3RlZF84ID0gewogIGNsYXNzOiAiY2FyZCBiZy1saWdodCBteS0zIGNsYXNzPWNlbnRlci1ibG9jayIsCiAgc3R5bGU6IHsKICAgICJmbG9hdCI6ICJub25lIgogIH0KfTsKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJjYXJkLWhlYWRlciIKfTsKdmFyIF9ob2lzdGVkXzEwID0gewogIGNsYXNzOiAicm93IGp1c3RpZnktY29udGVudC1hcm91bmQiCn07CnZhciBfaG9pc3RlZF8xMSA9IHsKICBjbGFzczogIm0tMSIKfTsKCnZhciBfaG9pc3RlZF8xMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImltZyIsIHsKICBzcmM6IF9pbXBvcnRzXzAsCiAgYWx0OiAic2lnbi1vdXQiLAogIHN0eWxlOiB7CiAgICAid2lkdGgiOiAiMzVweCIKICB9Cn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xMyA9IHsKICBjbGFzczogImNhcmQtYm9keSB0ZXh0LWNlbnRlciIKfTsKdmFyIF9ob2lzdGVkXzE0ID0gewogIGNsYXNzOiAiZHJvcGRvd24gdGV4dC1jZW50ZXIiCn07Cgp2YXIgX2hvaXN0ZWRfMTUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJjYXJkLWJvZHkgbXgtYXV0byIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBjbGFzczogImJ0bi1pbmZvIHJvdW5kZWQgcC0zIiwKICBzdHlsZTogewogICAgImN1cnNvciI6ICJkZWZhdWx0IgogIH0KfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICBjbGFzczogInJvdW5kZWQgcC0yIiwKICBzdHlsZTogewogICAgImN1cnNvciI6ICJkZWZhdWx0IgogIH0KfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInNwYW4iLCB7CiAgY2xhc3M6ICJtLTMgZm9udC13ZWlnaHQtYm9sZCIKfSwgIkRlcHVpcyBjZXR0ZSBwYWdlIHZvdXMgcG91dmV6IHN1cHByaW1lciB2b3RyZSBjb21wdGUuIExhIHN1cHByZXNzaW9uIGRlIHZvdHJlIGNvbXB0ZSBlbnRyYWluZXJhIMOpZ2FsZW1lbnQgbGEgc3VwcHJlc3Npb24gZGUgdG91cyBsZXMgY29tbWVudGFpcmVzIGV0IGxlcyBpbWFnZXMgcXVlIHZvdXMgYXZleiBwb3N0w6kuIildKV0pXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzE2ID0gewogIGNsYXNzOiAiY2FyZC1ib2R5IG14LWF1dG8iCn07CnZhciBfaG9pc3RlZF8xNyA9IHsKICBjbGFzczogImJ0bi1kYW5nZXIgcm91bmRlZCBwLTMiLAogIHN0eWxlOiB7CiAgICAiY3Vyc29yIjogImRlZmF1bHQiCiAgfQp9OwoKdmFyIF9ob2lzdGVkXzE4ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3BhbiIsIHsKICBjbGFzczogIm0tMyBmb250LXdlaWdodC1ib2xkIgp9LCAiU1VQUFJJTUVSIFZPVFJFIENPTVBURSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xOSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImltZyIsIHsKICBzcmM6IF9pbXBvcnRzXzEsCiAgYWx0OiAidHJhc2giLAogIHN0eWxlOiB7CiAgICAid2lkdGgiOiAiMjVweCIKICB9Cn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfSG9tZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJIb21lIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygibWFpbiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCIgZGl2IGNvbnRlbmFudCBsZSB0aXRyZSAiKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2hvaXN0ZWRfNSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSG9tZSldKSwgX2NyZWF0ZVZOb2RlKCJzZWN0aW9uIiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNywgW19jcmVhdGVDb21tZW50Vk5vZGUoIiBibG9jIHV0aWxpc2F0ZXVyICIpLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbX2NyZWF0ZVZOb2RlKCJwIiwgX2hvaXN0ZWRfMTEsICIgQm9uam91ciAiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS5uYW1lQ3VycmVudFVzZXIpICsgIiAhICIsIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmxvY2FsQ2xlYXIuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sIFtfaG9pc3RlZF8xMl0pXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMywgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTQsIFtfY3JlYXRlVk5vZGUoInAiLCBudWxsLCAiTWVtYnJlIGRlcHVpcyBsZSAiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS5jcmVhdGlvbiksIDEKICAvKiBURVhUICovCiAgKV0pXSksIF9ob2lzdGVkXzE1LCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzE2LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNywgW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVNeUFjY291bnQoJGRhdGEuaWQpOwogICAgfSksCiAgICBjbGFzczogInJvdW5kZWQgcC0yIgogIH0sIFtfaG9pc3RlZF8xOCwgX2hvaXN0ZWRfMTldKV0pXSldKV0pXSldKV0pXSk7Cn0="},{"version":3,"sources":["/Users/t.j/OPCR/projet7/Frontend/src/views/Compte.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <main class=\"container\">    \n        <div class=\"row justify-content-center\">\n            <div class=\"col-10\">\n                 <!-- div contenant le titre -->\n                <div class=\"col-12\">\n                    <h1 class=\"my-2 btn btn-block btn-info font-weight-bold\" style=\"cursor:default\">Vous consultez vote compte</h1>\n                    <Home></Home>\n                </div>\n                <section id=\"filPrincipal\" class=\"row\">\n                    <div class=\"col-12\">\n                         <!-- bloc utilisateur -->\n                        <div class=\"card bg-light my-3 class=center-block\" style=\"float:none;\">\n                            <div class=\"card-header\">\n                                <div class=\"row justify-content-around\">\n                                    <p class=\"m-1\"> Bonjour {{ nameCurrentUser }} ! </p>\n                                    <button @click=\"localClear\"> <img src=\"../assets/signout.svg\" alt=\"sign-out\" style=\"width:35px\"/> </button>\n                                </div>\n                            </div>\n                            <div class=\"card-body text-center\">\n                                <div class=\"dropdown text-center\">\n                                    <p>Membre depuis le {{ creation }}</p>\n                                </div>\n                            </div>\n                            <div class=\"card-body mx-auto\">\n                                <div class=\"btn-info rounded p-3\" style=\"cursor:default\"><button class=\"rounded p-2\" style=\"cursor:default\"><span class=\"m-3 font-weight-bold\">Depuis cette page vous pouvez supprimer votre compte. La suppression de votre compte entrainera également la suppression de tous les commentaires et les images que vous avez posté.</span></button></div>\n                            </div>\n                            <div class=\"card-body mx-auto\">\n                                <div class=\"btn-danger rounded p-3\" style=\"cursor:default\"><button @click=\"deleteMyAccount(id)\" class=\"rounded p-2\"><span class=\"m-3 font-weight-bold\">SUPPRIMER VOTRE COMPTE</span><img src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"></button></div>\n                            </div>\n                        </div> \n                    </div>  \n                </section>\n            </div>\n        </div>\n    </main>\n</template>\n\n\n<script>\nimport Home from \"../components/Home\";\nimport axios from \"axios\";\nimport router from \"../router\";\nimport \"../main.css\";\n\nexport default {\n    name: \"Compte\",\n    components: {\n      Home\n    },\n    data() {\n        return {\n            isAdmin: false,\n            nameCurrentUser: \"\",\n            creation: \"\",\n            id: \"\"\n        }\n    },\n    created: function() {        \n        let id          = localStorage.getItem('userId');\n        let self        = this;\n        axios.get(\"http://localhost:3000/api/users/\" + id, { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then(res => {  \n            self.creation           = res.data.createdAt.slice(0,10).split(\"-\").reverse().join(\".\");\n            self.isAdmin            = res.data.isAdmin;\n            self.nameCurrentUser    = res.data.userName.charAt(0).toUpperCase() + res.data.userName.slice(1);\n            self.id                 = res.data.id     \n        })\n        .catch((error)=> { console.log(error) \n        });    \n    },\n    methods: {\n        localClear() {\n            localStorage.clear();\n            router.push({ path : \"/\" });\n        },\n        deleteMyAccount(n) {\n            let id = n;\n            let confirmUserDeletion = confirm(\"voulez-vous vraiment supprimer votre compte ?\");\n            if (confirmUserDeletion == true) {\n                axios.delete(\"http://localhost:3000/api/users/\" + id, {headers: { \"Authorization\": \"Bearer \" + localStorage.getItem(\"token\") },})\n                .then((res)=> {\n                    console.log(res);\n                    alert('Cliquez sur ok et l\\'utilisateur sera supprimé');\n                    router.replace(\"http://localhost:8080/api/\")\n                })\n                .catch((error) => { \n                    console.log(error)\n                })\n            } else {\n                return \n            }\n        },\n        toCommentsList() {\n            router.replace(\"http://localhost:8080/api/CommentsList\")\n        },\n        toUsersList() {\n            router.replace(\"http://localhost:8080/api/UsersList\")\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}