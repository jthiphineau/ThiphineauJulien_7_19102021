{"remainingRequest":"/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/node_modules/babel-loader/lib/index.js!/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/src/views/Admin.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/src/views/Admin.vue","mtime":1610031143000},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/node_modules/babel-loader/lib/index.js","mtime":1635943529871},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1635943530684}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCBIb21lIGZyb20gIi4uL2NvbXBvbmVudHMvSG9tZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKaW1wb3J0ICIuLi9tYWluLmNzcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRtaW4iLAogIGNvbXBvbmVudHM6IHsKICAgIEhvbWU6IEhvbWUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0FkbWluOiBmYWxzZSwKICAgICAgbmFtZUN1cnJlbnRVc2VyOiAiIiwKICAgICAgY3JlYXRpb246ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy8iICsgaWQsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHNlbGYuY3JlYXRpb24gPSByZXMuZGF0YS5jcmVhdGVkQXQuc2xpY2UoMCwgMTApLnNwbGl0KCItIikucmV2ZXJzZSgpLmpvaW4oIi4iKTsKICAgICAgc2VsZi5pc0FkbWluID0gcmVzLmRhdGEuaXNBZG1pbjsKICAgICAgc2VsZi5uYW1lQ3VycmVudFVzZXIgPSByZXMuZGF0YS51c2VyTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlcy5kYXRhLnVzZXJOYW1lLnNsaWNlKDEpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgbG9jYWxDbGVhcjogZnVuY3Rpb24gbG9jYWxDbGVhcigpIHsKICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiLyIKICAgICAgfSk7CiAgICB9LAogICAgc2VlT25lUG9zdDogZnVuY3Rpb24gc2VlT25lUG9zdChtKSB7CiAgICAgIGNvbnNvbGUubG9nKG0pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnTWVzc2FnZUlkJywgbSk7CiAgICAgIHJvdXRlci5yZXBsYWNlKCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2NvbW1lbnQiKTsKICAgIH0sCiAgICB0b0NvbW1lbnRzTGlzdDogZnVuY3Rpb24gdG9Db21tZW50c0xpc3QoKSB7CiAgICAgIHJvdXRlci5yZXBsYWNlKCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL0NvbW1lbnRzTGlzdCIpOwogICAgfSwKICAgIHRvVXNlcnNMaXN0OiBmdW5jdGlvbiB0b1VzZXJzTGlzdCgpIHsKICAgICAgcm91dGVyLnJlcGxhY2UoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvVXNlcnNMaXN0Iik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/t.j/Desktop/Projet7/P7-Groupomania-master/Frontend/src/views/Admin.vue"],"names":[],"mappings":";;;;;AAmDA,OAAO,IAAP,MAAiB,oBAAjB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAP,MAAmB,WAAnB;AACA,OAAO,aAAP;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,OADK;AAEX,EAAA,UAAU,EAAE;AACV,IAAA,IAAG,EAAH;AADU,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,OAAO,EAAE,KADN;AAEH,MAAA,eAAe,EAAE,EAFd;AAGH,MAAA,QAAQ,EAAE;AAHP,KAAP;AAKH,GAXU;AAYX,EAAA,OAAO,EAAE,mBAAW;AAChB,QAAI,EAAC,GAAa,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAlB;AACA,QAAI,IAAG,GAAW,IAAlB;AACA,IAAA,KAAK,CAAC,GAAN,CAAU,qCAAqC,EAA/C,EAAmD;AAAE,MAAA,OAAO,EAAE;AAAC,yBAAiB,YAAY,YAAY,CAAC,OAAb,CAAqB,OAArB;AAA9B;AAAX,KAAnD,EACC,IADD,CACM,UAAA,GAAE,EAAK;AACT,MAAA,IAAI,CAAC,QAAL,GAA0B,GAAG,CAAC,IAAJ,CAAS,SAAT,CAAmB,KAAnB,CAAyB,CAAzB,EAA2B,EAA3B,EAA+B,KAA/B,CAAqC,GAArC,EAA0C,OAA1C,GAAoD,IAApD,CAAyD,GAAzD,CAA1B;AACA,MAAA,IAAI,CAAC,OAAL,GAA0B,GAAG,CAAC,IAAJ,CAAS,OAAnC;AACA,MAAA,IAAI,CAAC,eAAL,GAA0B,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,MAAlB,CAAyB,CAAzB,EAA4B,WAA5B,KAA4C,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,KAAlB,CAAwB,CAAxB,CAAtE;AACH,KALD,EAMC,KAND,CAMO,UAAC,KAAD,EAAU;AAAE,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AAClB,KAPD;AAQH,GAvBU;AAwBX,EAAA,OAAO,EAAE;AACL,IAAA,UADK,wBACQ;AACT,MAAA,YAAY,CAAC,KAAb;AACA,MAAA,MAAM,CAAC,IAAP,CAAY;AAAE,QAAA,IAAG,EAAI;AAAT,OAAZ;AACH,KAJI;AAKL,IAAA,UALK,sBAKM,CALN,EAKS;AACV,MAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;AACA,MAAA,YAAY,CAAC,OAAb,CAAqB,WAArB,EAAkC,CAAlC;AACA,MAAA,MAAM,CAAC,OAAP,CAAe,mCAAf;AACH,KATI;AAUL,IAAA,cAVK,4BAUY;AACb,MAAA,MAAM,CAAC,OAAP,CAAe,wCAAf;AACH,KAZI;AAaL,IAAA,WAbK,yBAaS;AACV,MAAA,MAAM,CAAC,OAAP,CAAe,qCAAf;AACJ;AAfK;AAxBE,CAAf","sourcesContent":["<!-- Pade d'administration du site -->\n\n<template>\n    <div class=\"container\">    \n        <main class=\"col-12\">   \n             <!-- section incluant le titre --> \n            <section class=\"col-12\">\n                <h1 class=\"my-2 btn btn-block btn-danger font-weight-bold\" style=\"cursor:default\">Administration du site</h1>\n                 <Home></Home>\n            </section>\n            <section id=\"filPrincipal\" class=\"row\">\n                <div class=\"col-12 col-md-4\">\n                     <!-- bloc utilisateur -->\n                    <article class=\"card bg-light my-3 class=center-block\" style=\"float:none;\">\n                        <div class=\"card-header\">\n                            <div class=\"row justify-content-around\">\n                                <div class=\"m-1\"> Bonjour {{ nameCurrentUser }} ! </div>\n                                <button @click=\"localClear\"> <img src=\"../assets/signout.svg\" alt=\"sign-out\" style=\"width:35px\"/> </button>\n                            </div>\n                        </div>\n                        <div class=\"card-body text-center\">\n                            <div class=\"dropdown text-center\">\n                                <p>Membre depuis le {{ creation }}</p>\n                            </div>\n                            <div>\n                                <div v-if=\"isAdmin\">\n                                    <router-link to='/Admin'><button v-if=\"isAdmin\" type=\"button\"  class=\" btn btn-danger mx-auto rounded p-2\">VOUS ÊTES L'ADMINISTRATEUR DU SITE</button></router-link> \n                                    <router-link to='/Admin'><button  type=\"button\"   class=\" btn btn-danger mx-auto m-3 rounded p-2 buttonsPanel\"><button class=\" rounded p-1 m-1 \"><img src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"> ACTIVÉE</button></button></router-link> \n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"card-body mx-auto\">\n                            <button class=\"btn rounded text-white font-weight-bold\" style=\"background-color: #dd0000;cursor: default\">Vous avez le pouvoir de supprimer les messages des utilisateurs, leurs commentaires, ainsi que les utilisateurs eux-mêmes.</button>\n                        </div>\n                    </article> \n                </div>   \n                 <!-- bloc choix (to comment list ou user list) -->\n                <article class=\"col col-md-8 mt-5\">\n                    <h2 class=\"text-white text-center m-5 \">FAITES VOTRE CHOIX</h2>\n                    <div class=\"row justify-content-around\">\n                        <button @click=\"toCommentsList()\" class=\"btn btn-warning rounded shadow font-weight-bold p-5 m-2\">MESSAGES/COMMENTS</button>\n                        <button @click=\"toUsersList()\" class=\"btn btn-warning rounded shadow font-weight-bold p-5 m-2\" >USERS</button>\n                    </div>\n                </article>\n            </section>\n        </main>\n    </div>\n</template>\n\n\n<script>\nimport Home from \"../components/Home\";\nimport axios from \"axios\";\nimport router from \"../router\";\nimport \"../main.css\";\n\nexport default {\n    name: \"Admin\",\n    components: {\n      Home\n    },\n    data() {\n        return {\n            isAdmin: false,\n            nameCurrentUser: \"\",\n            creation: \"\"\n        }\n    },\n    created: function() {        \n        let id          = localStorage.getItem('userId');\n        let self        = this;  \n        axios.get(\"http://localhost:3000/api/users/\" + id, { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then(res => {  \n            self.creation           = res.data.createdAt.slice(0,10).split(\"-\").reverse().join(\".\");\n            self.isAdmin            = res.data.isAdmin;\n            self.nameCurrentUser    = res.data.userName.charAt(0).toUpperCase() + res.data.userName.slice(1);       \n        })\n        .catch((error)=> { console.log(error) \n        });    \n    },\n    methods: {\n        localClear() {\n            localStorage.clear();\n            router.push({ path : \"/\" });\n        },\n        seeOnePost(m) {\n            console.log(m);\n            localStorage.setItem('MessageId', m);\n            router.replace(\"http://localhost:8080/api/comment\")\n        },\n        toCommentsList() {\n            router.replace(\"http://localhost:8080/api/CommentsList\")\n        },\n        toUsersList() {\n            router.replace(\"http://localhost:8080/api/UsersList\")\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}