{"remainingRequest":"/Users/t.j/OPCR/projet7/Frontend/node_modules/babel-loader/lib/index.js!/Users/t.j/OPCR/projet7/Frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/t.j/OPCR/projet7/Frontend/src/router/index.js","dependencies":[{"path":"/Users/t.j/OPCR/projet7/Frontend/src/router/index.js","mtime":1610031143000},{"path":"/Users/t.j/OPCR/projet7/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/OPCR/projet7/Frontend/node_modules/babel-loader/lib/index.js","mtime":1635943529871},{"path":"/Users/t.j/OPCR/projet7/Frontend/node_modules/eslint-loader/index.js","mtime":1635943528152}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIYXNoSGlzdG9yeSB9IGZyb20gInZ1ZS1yb3V0ZXIiOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiLyIsCiAgbmFtZTogIkNvbm5leGlvbiIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9Db25uZXhpb24iKTsKICB9Cn0sIHsKICBwYXRoOiAiL0FkbWluIiwKICBuYW1lOiAiQWRtaW4iLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvQWRtaW4iKTsKICB9Cn0sIHsKICBwYXRoOiAiL0NvbXB0ZSIsCiAgbmFtZTogIkNvbXB0ZSIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9Db21wdGUiKTsKICB9Cn0sIHsKICBwYXRoOiAiL0NvbW1lbnQiLAogIG5hbWU6ICJDb21tZW50IiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL0NvbW1lbnQiKTsKICB9Cn0sIHsKICBwYXRoOiAiL0NvbW1lbnRzTGlzdCIsCiAgbmFtZTogIkNvbW1lbnRzTGlzdCIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9Db21tZW50c0xpc3QiKTsKICB9Cn0sIHsKICBwYXRoOiAiL2NyZWF0ZSIsCiAgbmFtZTogIkNyZWF0ZSIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9DcmVhdGUiKTsKICB9Cn0sIHsKICBwYXRoOiAiL0NyZWF0ZUNvbW1lbnQiLAogIG5hbWU6ICJDcmVhdGVDb21tZW50IiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL0NyZWF0ZUNvbW1lbnQiKTsKICB9Cn0sIHsKICBwYXRoOiAiL2luc2NyaXB0aW9uIiwKICBuYW1lOiAiSW5zY3JpcHRpb24iLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvSW5zY3JpcHRpb24iKTsKICB9Cn0sIHsKICBwYXRoOiAiL3N0cmVhbSIsCiAgbmFtZTogIlN0cmVhbSIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9TdHJlYW0iKTsKICB9Cn0sIHsKICBwYXRoOiAiL1VzZXJzTGlzdCIsCiAgbmFtZTogIlVzZXJzTGlzdCIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9Vc2Vyc0xpc3QiKTsKICB9Cn1dOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgcHVibGljUGFnZXMgPSBbIi8iLCAiL2luc2NyaXB0aW9uIl07CiAgdmFyIGF1dGhSZXF1aXJlZCA9ICFwdWJsaWNQYWdlcy5pbmNsdWRlcyh0by5wYXRoKTsKICB2YXIgbG9nZ2VkSW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIik7CiAgdmFyIGxvZ2dlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CgogIGlmIChhdXRoUmVxdWlyZWQgJiYgIWxvZ2dlZEluICYmICFsb2dnZWRUb2tlbikgewogICAgcmV0dXJuIG5leHQoIi8iKTsKICB9CgogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/t.j/OPCR/projet7/Frontend/src/router/index.js"],"names":["createRouter","createWebHashHistory","routes","path","name","component","router","history","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem","loggedToken"],"mappings":";;AAAA,SAASA,YAAT,EAAuBC,oBAAvB,QAAmD,YAAnD;AAEA,IAAMC,MAAM,GAAG,CACX;AACIC,EAAAA,IAAI,EAAE,GADV;AAEIC,EAAAA,IAAI,EAAE,WAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAHf,CADW,EAMX;AACIF,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,gBAAP,CAAN;AAAA;AAHf,CANW,EAWX;AACIF,EAAAA,IAAI,EAAE,SADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,iBAAP,CAAN;AAAA;AAHf,CAXW,EAgBX;AACIF,EAAAA,IAAI,EAAE,UADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,kBAAP,CAAN;AAAA;AAHf,CAhBW,EAqBX;AACIF,EAAAA,IAAI,EAAE,eADV;AAEIC,EAAAA,IAAI,EAAE,cAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,uBAAP,CAAN;AAAA;AAHf,CArBW,EA0BX;AACIF,EAAAA,IAAI,EAAE,SADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,iBAAP,CAAN;AAAA;AAHf,CA1BW,EA+BX;AACIF,EAAAA,IAAI,EAAE,gBADV;AAEIC,EAAAA,IAAI,EAAE,eAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,wBAAP,CAAN;AAAA;AAHf,CA/BW,EAoCX;AACIF,EAAAA,IAAI,EAAE,cADV;AAEIC,EAAAA,IAAI,EAAE,aAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,sBAAP,CAAN;AAAA;AAHf,CApCW,EAyCX;AACIF,EAAAA,IAAI,EAAE,SADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,iBAAP,CAAN;AAAA;AAHf,CAzCW,EA8CX;AACIF,EAAAA,IAAI,EAAE,YADV;AAEIC,EAAAA,IAAI,EAAE,WAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAHf,CA9CW,CAAf;AAsDA,IAAMC,MAAM,GAAGN,YAAY,CAAC;AACxBO,EAAAA,OAAO,EAAEN,oBAAoB,EADL;AAExBC,EAAAA,MAAM,EAANA;AAFwB,CAAD,CAA3B;AAKAI,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,WAAW,GAAG,CAAC,GAAD,EAAM,cAAN,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACN,IAAxB,CAAtB;AACA,MAAMY,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAjB;AACA,MAAMC,WAAW,GAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB;;AACA,MAAIJ,YAAY,IAAI,CAACE,QAAjB,IAA6B,CAACG,WAAlC,EAA+C;AAC3C,WAAOP,IAAI,CAAC,GAAD,CAAX;AACH;;AACDA,EAAAA,IAAI;AACP,CATD;AAWA,eAAeL,MAAf","sourcesContent":["import { createRouter, createWebHashHistory } from \"vue-router\"\n\nconst routes = [\n    {\n        path: \"/\",\n        name: \"Connexion\",\n        component: () => import(\"../views/Connexion\"),\n    },\n    {\n        path: \"/Admin\",\n        name: \"Admin\",\n        component: () => import(\"../views/Admin\"),\n    },\n    {\n        path: \"/Compte\",\n        name: \"Compte\",\n        component: () => import(\"../views/Compte\"),\n    },\n    {\n        path: \"/Comment\",\n        name: \"Comment\",\n        component: () => import(\"../views/Comment\"),\n    },\n    {\n        path: \"/CommentsList\",\n        name: \"CommentsList\",\n        component: () => import(\"../views/CommentsList\"),\n    },\n    {\n        path: \"/create\",\n        name: \"Create\",\n        component: () => import(\"../views/Create\")\n    },\n    {\n        path: \"/CreateComment\",\n        name: \"CreateComment\",\n        component: () => import(\"../views/CreateComment\"),\n    },\n    {\n        path: \"/inscription\",\n        name: \"Inscription\",\n        component: () => import(\"../views/Inscription\")\n    },\n    {\n        path: \"/stream\",\n        name: \"Stream\",\n        component: () => import(\"../views/Stream\")\n    },\n    {\n        path: \"/UsersList\",\n        name: \"UsersList\",\n        component: () => import(\"../views/UsersList\")\n    }\n    \n]\n\nconst router = createRouter({\n    history: createWebHashHistory(),\n    routes\n})\n\nrouter.beforeEach((to, from, next) => {\n    const publicPages = [\"/\", \"/inscription\"]\n    const authRequired = !publicPages.includes(to.path)\n    const loggedIn = localStorage.getItem(\"userId\")\n    const loggedToken = localStorage.getItem(\"token\")\n    if (authRequired && !loggedIn && !loggedToken) {\n        return next(\"/\")\n    }\n    next()\n})\n\nexport default router"]}]}