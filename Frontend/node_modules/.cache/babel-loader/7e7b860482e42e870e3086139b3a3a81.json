{"remainingRequest":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/babel-loader/lib/index.js!/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/src/views/CommentsList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/src/views/CommentsList.vue","mtime":1610031143000},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/babel-loader/lib/index.js","mtime":1635943529871},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1635943530684}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCBIb21lIGZyb20gIi4uL2NvbXBvbmVudHMvSG9tZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKaW1wb3J0ICIuLi9tYWluLmNzcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29tbWVudHNMaXN0IiwKICBjb21wb25lbnRzOiB7CiAgICBIb21lOiBIb21lCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgbmFtZUN1cnJlbnRVc2VyOiAiIiwKICAgICAgY3JlYXRpb246ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9tZXNzYWdlcyIsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICBpZiAocmVzKSB7CiAgICAgICAgc2VsZi5tZXNzYWdlcyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubGlzdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coImF1Y3VuIG1lc3NhZ2UiKTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzLyIgKyBpZCwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgc2VsZi5jcmVhdGlvbiA9IHJlcy5kYXRhLmNyZWF0ZWRBdC5zbGljZSgwLCAxMCkuc3BsaXQoIi0iKS5yZXZlcnNlKCkuam9pbigiLiIpOwogICAgICBzZWxmLmlzQWRtaW4gPSByZXMuZGF0YS5pc0FkbWluOwogICAgICBzZWxmLm5hbWVDdXJyZW50VXNlciA9IHJlcy5kYXRhLnVzZXJOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzLmRhdGEudXNlck5hbWUuc2xpY2UoMSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2NhbENsZWFyOiBmdW5jdGlvbiBsb2NhbENsZWFyKCkgewogICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvIgogICAgICB9KTsKICAgIH0sCiAgICBzZWVPbmVQb3N0OiBmdW5jdGlvbiBzZWVPbmVQb3N0KG0pIHsKICAgICAgY29uc29sZS5sb2cobSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdNZXNzYWdlSWQnLCBtKTsKICAgICAgcm91dGVyLnJlcGxhY2UoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvY29tbWVudCIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/t.j/Desktop/Projet7/P7-Groupomania-vue/Frontend/src/views/CommentsList.vue"],"names":[],"mappings":";;;;;AA2DA,OAAO,IAAP,MAAiB,oBAAjB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAP,MAAmB,WAAnB;AACA,OAAO,aAAP;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,cADK;AAEX,EAAA,UAAU,EAAE;AACV,IAAA,IAAG,EAAH;AADU,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,OAAO,EAAE,KADN;AAEH,MAAA,QAAQ,EAAE,EAFP;AAGH,MAAA,eAAe,EAAE,EAHd;AAIH,MAAA,QAAQ,EAAE;AAJP,KAAP;AAMH,GAZU;AAaX,EAAA,OAAO,EAAE,mBAAW;AAChB,QAAI,EAAC,GAAa,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAlB;AACA,QAAI,IAAG,GAAW,IAAlB;AACA,IAAA,KAAK,CAAC,GAAN,CAAU,oCAAV,EAAiD;AAAE,MAAA,OAAO,EAAE;AAAC,yBAAiB,YAAY,YAAY,CAAC,OAAb,CAAqB,OAArB;AAA9B;AAAX,KAAjD,EACC,IADD,CACM,UAAC,GAAD,EAAS;AACX,MAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,UAAI,GAAJ,EAAS;AACL,QAAA,IAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,IAAJ,CAAS,IAAzB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,IAAJ,CAAS,IAArB;AACJ,OAHA,MAGO;AACH,QAAA,OAAO,CAAC,GAAR,CAAY,eAAZ;AACJ;AACH,KATD,EAUC,KAVD,CAUO,UAAC,KAAD,EAAS;AACZ,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACH,KAZD;AAaA,IAAA,KAAK,CAAC,GAAN,CAAU,qCAAqC,EAA/C,EAAmD;AAAE,MAAA,OAAO,EAAE;AAAC,yBAAiB,YAAY,YAAY,CAAC,OAAb,CAAqB,OAArB;AAA9B;AAAX,KAAnD,EACC,IADD,CACM,UAAA,GAAE,EAAK;AACT,MAAA,IAAI,CAAC,QAAL,GAA0B,GAAG,CAAC,IAAJ,CAAS,SAAT,CAAmB,KAAnB,CAAyB,CAAzB,EAA2B,EAA3B,EAA+B,KAA/B,CAAqC,GAArC,EAA0C,OAA1C,GAAoD,IAApD,CAAyD,GAAzD,CAA1B;AACA,MAAA,IAAI,CAAC,OAAL,GAA0B,GAAG,CAAC,IAAJ,CAAS,OAAnC;AACA,MAAA,IAAI,CAAC,eAAL,GAA0B,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,MAAlB,CAAyB,CAAzB,EAA4B,WAA5B,KAA4C,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,KAAlB,CAAwB,CAAxB,CAAtE;AACH,KALD,EAMC,KAND,CAMO,UAAC,KAAD,EAAU;AAAE,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AAClB,KAPD;AAQH,GArCU;AAsCX,EAAA,OAAO,EAAE;AACL,IAAA,UADK,wBACQ;AACT,MAAA,YAAY,CAAC,KAAb;AACA,MAAA,MAAM,CAAC,IAAP,CAAY;AAAE,QAAA,IAAG,EAAI;AAAT,OAAZ;AACH,KAJI;AAKL,IAAA,UALK,sBAKM,CALN,EAKS;AACV,MAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;AACA,MAAA,YAAY,CAAC,OAAb,CAAqB,WAArB,EAAkC,CAAlC;AACA,MAAA,MAAM,CAAC,OAAP,CAAe,mCAAf;AACJ;AATK;AAtCE,CAAf","sourcesContent":["<template>\n    <main class=\"container\">    \n        <div class=\"col-12\">\n             <!-- div incluant le titre -->\n            <div class=\"col-12\">\n                <router-link v-if=\"isAdmin\" to='/Admin'><h1 class=\"my-2 btn btn-block btn-danger font-weight-bold\">Administration du site</h1></router-link>\n                <Home></Home>\n            </div>\n            <section id=\"filPrincipal\" class=\"row\">\n                <sub class=\"col-12 col-md-4\">\n                     <!-- bloc utilisateur -->\n                    <article class=\"card bg-light my-3 class=center-block\" style=\"float:none;\">\n                        <div class=\"card-header\">\n                            <div class=\"row justify-content-around\">\n                                <p class=\"m-1\"> Bonjour {{ nameCurrentUser }} ! </p>\n                                <button @click=\"localClear\"> <img src=\"../assets/signout.svg\" alt=\"sign-out\" style=\"width:35px\"/> </button>\n                            </div>\n                        </div>\n                        <div class=\"card-body text-center\">\n                            <div class=\"dropdown text-center\">\n                                <p>Membre depuis le {{ creation }}</p>\n                            </div>\n                            <div>\n                                <router-link v-if=\"isAdmin\" to='/Admin'><button  type=\"button\" class=\" btn btn-danger mx-auto rounded p-2 buttonsPanel\">ADMIN. <button class=\" rounded p-1 m-1 \"><img src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"> ACTIVÉE</button></button></router-link> \n                            </div>\n                        </div>\n                        <div class=\"card-body mx-auto\">\n                            <button class=\"btn btn-dark rounded\" style=\"cursor:default\">Pour modérer les commentaires, veuillez vous rendre sur la page des commentaires en cliquant sur le logo \"oeil\".</button>\n                        </div>\n                    </article> \n                </sub>   \n                 <!-- bloc listes messages  -->\n                <sub class=\"col col-md-8\">\n                    <h2 class=\"text-white text-center m-5 \">\n                        Liens vers tous les messages et leurs commentaires.\n                    </h2>\n                    <div class=\"badge btn-primary p-3 badgeList\">\n                            <span class=\"spanBadge\">DATE</span>  \n                            <span class=\"spanBadge\">AUTEUR</span>\n                            <span class=\"spanBadge\">MESSAGE</span> \n                            <span class=\"spanBadge\">REF</span> \n                            <span class=\"spanBadge\">VOIR</span> \n                    </div>\n                    <div v-for=\"i in messages\" :key=\"i\">   \n                        <div class=\"badge btn-primary p-3 badgeList\">\n                            <span class=\"spanBadge\"> Le {{ i.createdAt.slice(0,10).split(\"-\").reverse().join(\".\")}} </span>  \n                            <span class=\"spanBadge\"> {{ i.userName.charAt(0).toUpperCase() + i.userName.slice(1) }} </span> \n                            <span class=\"spanBadge\"> {{ i.message.slice(0,10) }}...</span> \n                            <span class=\"spanBadge\"> ref #{{ i.id }}</span> \n                            <span class=\"spanBadge\"> <button class=\"rounded\" @click=\"seeOnePost( i.id )\"> <img src=\"../assets/eye.svg\" alt=\"logo eye\" style=\"width:25px\"> </button> </span> \n                        </div>\n                    </div>\n                </sub>\n            </section>\n        </div>\n    </main>\n</template>\n\n<script>\nimport Home from \"../components/Home\";\nimport axios from \"axios\";\nimport router from \"../router\";\nimport \"../main.css\";\n\nexport default {\n    name: \"CommentsList\",\n    components: {\n      Home\n    },\n    data() {\n        return {\n            isAdmin: false,\n            messages: [],\n            nameCurrentUser: \"\",\n            creation: \"\"\n        }\n    },\n    created: function() {        \n        let id          = localStorage.getItem('userId');\n        let self        = this;  \n        axios.get(\"http://localhost:3000/api/messages\",  { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then((res) => {\n            console.log(res)\n            if (res) {\n                self.messages = res.data.list;\n                console.log(res.data.list)\n            } else {\n                console.log(\"aucun message\")\n            }\n        })\n        .catch((error)=>{\n            console.log(error)\n        })      \n        axios.get(\"http://localhost:3000/api/users/\" + id, { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then(res => {  \n            self.creation           = res.data.createdAt.slice(0,10).split(\"-\").reverse().join(\".\");\n            self.isAdmin            = res.data.isAdmin;\n            self.nameCurrentUser    = res.data.userName.charAt(0).toUpperCase() + res.data.userName.slice(1);       \n        })\n        .catch((error)=> { console.log(error) \n        });    \n    },\n    methods: {\n        localClear() {\n            localStorage.clear();\n            router.push({ path : \"/\" });\n        },\n        seeOnePost(m) {\n            console.log(m);\n            localStorage.setItem('MessageId', m);\n            router.replace(\"http://localhost:8080/api/comment\")\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}