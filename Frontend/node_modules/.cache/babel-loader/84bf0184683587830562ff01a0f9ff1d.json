{"remainingRequest":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/babel-loader/lib/index.js!/Users/t.j/OPCR/Projet7/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/t.j/OPCR/Projet7/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/t.j/OPCR/Projet7/Frontend/src/views/Comment.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/t.j/OPCR/Projet7/Frontend/src/views/Comment.vue","mtime":1610031143000},{"path":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/babel-loader/lib/index.js","mtime":1635943529871},{"path":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635943526508},{"path":"/Users/t.j/OPCR/Projet7/Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1635943530684}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgSG9tZSBmcm9tICIuLi9jb21wb25lbnRzL0hvbWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmltcG9ydCAiLi4vbWFpbi5jc3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNvbW1lbnQiLAogIGNvbXBvbmVudHM6IHsKICAgIEhvbWU6IEhvbWUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0FkbWluOiBmYWxzZSwKICAgICAgY29tbWVudHM6IFtdLAogICAgICBjcmVhdGlvbjogIiIsCiAgICAgIG1lc3NhZ2VVc2VyTmFtZTogIiIsCiAgICAgIG1lc3NhZ2VVc2VySWQ6ICIiLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgbWVzc2FnZUlkOiAiIiwKICAgICAgbWVzc2FnZVVybDogIiIsCiAgICAgIG5hbWVDdXJyZW50VXNlcjogIiIsCiAgICAgIGN1cnJlbnRVc2VySWQ6ICIiLAogICAgICBjcmVhdGlvblVzZXI6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBNZXNzYWdlSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnTWVzc2FnZUlkJyk7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvbWVzc2FnZXMvIiArIE1lc3NhZ2VJZCwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgc2VsZi5jcmVhdGlvbiA9IHJlcy5kYXRhLmNyZWF0ZWRBdC5zbGljZSgwLCAxMCkuc3BsaXQoIi0iKS5yZXZlcnNlKCkuam9pbigiLiIpOwogICAgICBzZWxmLm1lc3NhZ2VVc2VyTmFtZSA9IHJlcy5kYXRhLnVzZXJOYW1lOwogICAgICBzZWxmLm1lc3NhZ2VVc2VySWQgPSByZXMuZGF0YS51c2VySWQ7CiAgICAgIHNlbGYubWVzc2FnZSA9IHJlcy5kYXRhLm1lc3NhZ2U7CiAgICAgIHNlbGYubWVzc2FnZUlkID0gcmVzLmRhdGEuaWQ7CiAgICAgIHNlbGYubWVzc2FnZVVybCA9IHJlcy5kYXRhLm1lc3NhZ2VVcmw7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgYWxlcnQoZXJyb3IpOwogICAgfSk7CiAgICB2YXIgaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7CiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvIiArIGlkLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBzZWxmLmlzQWRtaW4gPSByZXMuZGF0YS5pc0FkbWluOwogICAgICBzZWxmLm5hbWVDdXJyZW50VXNlciA9IHJlcy5kYXRhLnVzZXJOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzLmRhdGEudXNlck5hbWUuc2xpY2UoMSk7CiAgICAgIHNlbGYuY3JlYXRpb25Vc2VyID0gcmVzLmRhdGEuY3JlYXRlZEF0LnNsaWNlKDAsIDEwKS5zcGxpdCgiLSIpLnJldmVyc2UoKS5qb2luKCIuIik7CiAgICAgIHNlbGYuY3VycmVudFVzZXJJZCA9IHJlcy5kYXRhLmlkOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NvbW1lbnRzLyIgKyBNZXNzYWdlSWQsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHNlbGYuY29tbWVudHMgPSByZXMuZGF0YTsKICAgICAgY29uc29sZS5sb2coc2VsZi5jb21tZW50cyk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2NhbENsZWFyOiBmdW5jdGlvbiBsb2NhbENsZWFyKCkgewogICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvIgogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVNZXNzYWdlOiBmdW5jdGlvbiBkZWxldGVNZXNzYWdlKG1lc3NhZ2VJZCwgbWVzc2FnZVVzZXJJZCwgY3VycmVudFVzZXJJZCkgewogICAgICB2YXIgY29uZmlybU1lc3NhZ2VEZWxldGlvbiA9IGNvbmZpcm0oInZvdWxlei12b3VzIHZyYWltZW50IHN1cHByaW1lciBjZXR0ZSBpbWFnZSA/LCB0b3VzIGxlcyBjb21tZW50YWlyZXMgYXNzb2Npw6lzIHNlcm9udCDDqWdhbGVtZW50IHN1cHByaW3DqXMuIik7CgogICAgICBpZiAoY29uZmlybU1lc3NhZ2VEZWxldGlvbiA9PSB0cnVlKSB7CiAgICAgICAgYXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL21lc3NhZ2VzLyIsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICAgICAgfSwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2VJZCwKICAgICAgICAgICAgbWVzc2FnZVVpZDogbWVzc2FnZVVzZXJJZCwKICAgICAgICAgICAgdWlkOiBjdXJyZW50VXNlcklkCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJsaWduZSAxMzMgIiArIGVycm9yKTsKICAgICAgICB9KTsKICAgICAgICBhbGVydCgiQXUgY2xpY2sgc3VyIG9rLCBsZSBtZXNzYWdlIChldCBzZXMgY29tbWVudGFpcmVzKSBzdXBwcmltw6ksIHJldG91ciDDoCBsJ2FjY3VlaWwuIik7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogIi9TdHJlYW0iCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlQ29tbWVudDogZnVuY3Rpb24gZGVsZXRlQ29tbWVudChjb21tSWQsIGNvbW1VaWQsIGN1cnJlbnRVaWQpIHsKICAgICAgdmFyIGNvbmZpcm1Db21tZW50RGVsZXRpb24gPSBjb25maXJtKCJ2b3VsZXotdm91cyB2cmFpbWVudCBzdXBwaW1lciB2b3RyZSBjb21tZW50YWlyZSA/Iik7CgogICAgICBpZiAoY29uZmlybUNvbW1lbnREZWxldGlvbiA9PSB0cnVlKSB7CiAgICAgICAgYXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NvbW1lbnRzLyIsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICAgICAgfSwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb21tZW50SWQ6IGNvbW1JZCwKICAgICAgICAgICAgY29tbWVudFVpZDogY29tbVVpZCwKICAgICAgICAgICAgY3VycmVudFVpZDogY3VycmVudFVpZAogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIGFsZXJ0KCdDbGlxdWV6IHN1ciBvayBldCBsZSBjb21tZW50YWlyZSBzZXJhIHN1cHByaW3DqScpOwogICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/t.j/OPCR/Projet7/Frontend/src/views/Comment.vue"],"names":[],"mappings":"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","sourcesContent":["<!--  Page qui represente la vue sur une image en particulier, avec ses commentaires si il y a -->\n\n<template>\n    <main class=\"container\">  \n         <!-- titre -->\n        <div class=\"row mb-4 rounded\">\n            <p class=\"col-12 my-2 btn  btn-block btn-info badgeTopColor font-weight-bold\" style=\"background-color: #138400\" >Vous consultez les commentaires</p>  \n            <Home></Home>\n        </div>\n        <div class=\"row\">\n            <!-- bloc utilisateur -->\n            <article id=\"panelComment\" class=\"col-12 col-md-4\" > \n                <div class=\"card mb-3\">\n                    <div class=\"card-header\">\n                        <div class=\"row justify-content-around\">\n                            <p class=\"text-center p-2\"> Bonjour  {{ nameCurrentUser }} ! </p>\n                            <button @click=\"localClear\"> <img src=\"../assets/signout.svg\" alt=\"sign-out\" style=\"width:35px\"/> </button>\n                        </div>\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"dropdown text-center\">\n                            <p>Membre depuis le {{ creationUser }} </p>\n                        </div>\n                        <div id=\"compteButton\" class=\"text-center\">\n                            <router-link v-if=\"isAdmin\" to='/Admin'><button type=\"button\" class=\" btn btn-danger mx-auto rounded p-2 buttonsPanel\">ADMIN. <button class=\" rounded p-1 m-1 \"><img src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"> ACTIVÉE</button></button></router-link> \n                            <router-link v-else to='/Compte'><button type=\"button\" class=\" btn btn-secondary mx-auto rounded p-2 buttonsPanel\">COMPTE</button></router-link> \n                        </div>\n                    </div>\n                    <div class=\"justify-content-center align-self-center\">\n                        <router-link to='/Create' ><button type=\"button\" class=\"btn btn-dark  rounded m-2 p-2 font-weight-bold \">CREER UNE PUBLICATION<img src=\"../assets/send.svg\" alt=\"logo-envoyer\"  style=\"width: 25px\" class=\"m-3\" />  </button></router-link>\n                    </div>\n                    <div class=\"justify-content-center align-self-center\">\n                        <router-link to='/CreateComment'><button type=\"button\" class=\"btn btn-dark  m-2 p-2 rounded font-weight-bold\" >COMMENTER<img src=\"../assets/write.svg\" alt=\"write-logo\"  style=\"width: 25px\" class=\"m-3\" ></button></router-link>\n                    </div>\n                </div>\n            </article>\n            <!--Section message -->\n            <section class=\"card col-12 col-md-8 bg-light mb-3\">\n                <div class=\"card-header bg-light d-flex align-items-center justify-content-between m-0 p-1\">\n                    <span class=\" text-dark text-bold  p-1\" > \n                        Posté par {{ messageUserName }}\n                        le {{ creation }}\n                    </span>\n                    <div class=\"badge bg-dark text-wrap text-white p-2\" style=\"width: 6rem;\">\n                        ref # {{ messageId}}\n                    </div>                                                                                       \n                </div>\n                <div>\n                    <p class=\"text-center\"> \n                        <router-link to='/Comment'><img :src=\"messageUrl\" v-if=\"messageUrl !== '' \" class=\"border messImage\" alt=\"image postee par utilisateur\"></router-link>\n                    </p>                          \n                </div> \n                <div class=\"row justify-content-between p-3\">\n                    <div> \n                        <div>   {{ message }} </div> \n                    </div> \n                    <div v-if=\"isAdmin || messageUserId == currentUserId\">\n                        <button @click=\"deleteMessage(messageId, messageUserId, currentUserId)\" class=\"border-0\"> <img  src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"> </button>\n                    </div>\n                </div>\n            </section> \n        </div>\n         <!-- section commentaire(s) -->\n        <section class=\"row\">\n            <router-link to='/CreateComment'><p  v-if=\"comments.length == 0\" class='mt-3 btn btn-sm btn-block btn-danger font-weight-bold'> Aucun commentaire pour l'instant, soyez le premier à en créer un !</p></router-link>\n            <div v-for=\"comment in comments\" :key=\"comment\" class=\"card col-12 mt-3\">\n                <div class=\"card-header \">\n                    <p class=\"btn btn-dark w-100\" style=\"cursor:default\">Commentaire rédigé le {{ comment.createdAt.slice(0,10).split('-').reverse().join('/') }}  par {{ comment.User.userName.charAt(0).toUpperCase() + comment.User.userName.slice(1) }}</p>\n                </div>\n                <div class=\"card-body border bg-dark text-white text-right rounded mx-2\">\n                    <p>  {{ comment.comment }} </p>\n                </div>\n                <div class=\"card-footer row justify-content-between\">\n                    <p class=\"btn btn-dark w-10 text-right mx-2 \" style=\"cursor:default\">ref# <span class=\"badge badge-light\"> {{ comment.id }}</span></p>\n                    <div v-if=\"isAdmin || comment.UserId == currentUserId\">\n                        <button @click=\"deleteComment(comment.id, comment.UserId, currentUserId)\" class=\"border-0\"> <img  src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"> </button>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </main>\n</template>\n\n<script>\nimport Home from \"../components/Home\";\nimport axios from \"axios\";\nimport router from \"../router\";\nimport \"../main.css\";\n\nexport default {\n    name: \"Comment\",\n    components: {\n      Home\n    },\n    data() {\n        return {\n            isAdmin: false,\n            comments: [],\n            creation: \"\",\n            messageUserName: \"\",\n            messageUserId: \"\",\n            message: \"\",\n            messageId: \"\",\n            messageUrl: \"\",\n            nameCurrentUser: \"\",\n            currentUserId: \"\",\n            creationUser: \"\"\n        }\n    },\n    created: function() {        \n        let MessageId   = localStorage.getItem('MessageId')\n        let self        = this;\n        axios.get(\"http://localhost:3000/api/messages/\" + MessageId,  { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then((res) => {\n            console.log(res)\n            self.creation           = res.data.createdAt.slice(0,10).split(\"-\").reverse().join(\".\");\n            self.messageUserName    = res.data.userName;\n            self.messageUserId      = res.data.userId;\n            self.message            = res.data.message;\n            self.messageId          = res.data.id; \n            self.messageUrl         = res.data.messageUrl;\n        })\n        .catch((error)=>{\n            alert(error)\n        })\n        let id = localStorage.getItem('userId');\n        axios.get(\"http://localhost:3000/api/users/\" + id, { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then(res => {  \n            self.isAdmin                = res.data.isAdmin;\n            self.nameCurrentUser        = res.data.userName.charAt(0).toUpperCase() + res.data.userName.slice(1);\n            self.creationUser           = res.data.createdAt.slice(0,10).split(\"-\").reverse().join(\".\");\n            self.currentUserId          = res.data.id\n        })\n        .catch((error)=> { console.log(error) \n        })  \n        axios.get(\"http://localhost:3000/api/comments/\" + MessageId,  { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then( function (res) {\n            self.comments = res.data;  \n            console.log(self.comments)\n        })\n        .catch((error) => {console.log(error)\n        });\n    },\n    methods: {\n\n        localClear() {\n            localStorage.clear();\n            router.push({ path : \"/\" });\n        },\n        deleteMessage(messageId, messageUserId, currentUserId) {\n            let confirmMessageDeletion = confirm(\"voulez-vous vraiment supprimer cette image ?, tous les commentaires associés seront également supprimés.\");\n            if (confirmMessageDeletion == true) {\n                axios.delete(\"http://localhost:3000/api/messages/\", {\n                    headers: { \n                        \"Authorization\": \"Bearer \" + localStorage.getItem(\"token\") \n                    },\n                    params: {\n                        messageId:  messageId,\n                        messageUid: messageUserId,\n                        uid:        currentUserId\n                    }\n                    })\n                .then((res)=> console.log(res))\n                .catch((error) => { \n                    console.log(\"ligne 133 \" + error)})\n                    alert(\"Au click sur ok, le message (et ses commentaires) supprimé, retour à l'accueil.\")\n                    router.push({ path : \"/Stream\" });\n            } else {\n                return\n            }\n\n        },\n        deleteComment(commId, commUid, currentUid) {\n\n            let confirmCommentDeletion = confirm(\"voulez-vous vraiment suppimer votre commentaire ?\");\n            if (confirmCommentDeletion == true) {\n                axios.delete(\"http://localhost:3000/api/comments/\", {\n                headers: { \n                        \"Authorization\": \"Bearer \" + localStorage.getItem(\"token\") \n                    },\n                    params: {\n                        commentId:     commId,\n                        commentUid:    commUid,\n                        currentUid:    currentUid\n                    }\n                })\n                .then((res)=> {\n                    console.log(res);\n                    alert('Cliquez sur ok et le commentaire sera supprimé');\n                    location.reload();\n                })\n                .catch((error) => { \n                    console.log(error)\n                })\n            } else {\n                return \n            }\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}